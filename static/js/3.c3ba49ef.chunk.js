(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{306:function(e,t,a){e.exports={descrBlock:"ProfileInfo_descrBlock__35MGM",mainPhoto:"ProfileInfo_mainPhoto__1g5vj",contacts:"ProfileInfo_contacts__2Nq3s"}},307:function(e,t,a){e.exports={item:"MyPosts_item__Jytb1",postsDescr:"MyPosts_postsDescr__LMsof"}},308:function(e,t,a){e.exports={item:"Post_item__3OeMh"}},309:function(e,t,a){},310:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(17),s=a(19),l=a(18),r=a(20),c=a(0),i=a.n(c),u=a(95),m=a(307),p=a.n(m),d=a(308),f=a.n(d),b=function(e){return i.a.createElement("div",{className:f.a.item},i.a.createElement("img",{src:"https://media.comicbook.com/2018/05/avatar-the-last-airbender-blu-ray-set-1111431.jpeg",alt:""}),i.a.createElement("div",null,e.message),i.a.createElement("div",null,"Like ",e.like))},E=a(86),h=a(126),v=a(60),g=a(34),O=Object(v.a)(10),j=i.a.memo((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(E.a,{name:"newPostText",component:g.b,validate:[v.b,O]})),i.a.createElement("div",null,i.a.createElement("button",null,"Add post")))})),k=Object(h.a)({form:"ProfileAddNewPostForm"})(j),P=function(e){var t=e.postData.map((function(e){return i.a.createElement(b,{key:e.id,message:e.message,like:e.like})}));return i.a.createElement("div",{className:p.a.postsDescr},i.a.createElement("h3",null,"My posts"),i.a.createElement(k,{onSubmit:function(t){e.addPost(t.newPostText)}}),i.a.createElement("div",{className:p.a.item},t))},S=a(14),y=Object(S.b)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(P),M=a(127),_=a(306),w=a.n(_),N=a(59),A=function(e){function t(){var e,a;Object(n.a)(this,t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={editMode:!1,status:a.props.status},a.activateEditMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){a.setState({editMode:!1}),a.props.updateStatus(a.state.status)},a.onStatusChange=function(e){a.setState({status:e.currentTarget.value})},a}return Object(r.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return i.a.createElement("div",null,!this.state.editMode&&i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:this.activateEditMode},this.props.status||"No status")),this.state.editMode&&i.a.createElement("div",null,i.a.createElement("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})))}}]),t}(i.a.PureComponent),D=a(105),C=a.n(D),F=a(309),I=a.n(F),T=a(24),x=a.n(T),J=Object(h.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("button",null,"Save"),n&&i.a.createElement("div",{className:x.a.errorSummaryError},i.a.createElement("h3",null,n)),i.a.createElement("div",null,i.a.createElement("b",null,"Full name: ")," ",Object(g.c)("Full name","fullName",[],g.a)),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job:"),Object(g.c)("","lookingForAJob",[],g.a,{type:"checkbox"})),i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills: "),Object(g.c)("My professional skills","lookingForAJobDescription",[],g.b)),i.a.createElement("div",null,i.a.createElement("b",null,"About me:")," ",Object(g.c)("About me","aboutMe",[],g.b)),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts: ",Object.keys(a.contacts).map((function(e){return i.a.createElement("div",{key:e,className:I.a.contact},i.a.createElement("b",null,e,": ")," ",Object(g.c)(e,"contacts."+e,[],g.a))})))))})),U=i.a.memo((function(e){var t=e.profile,a=e.status,n=e.updateStatus,o=e.isOwner,s=e.savePhoto,l=e.saveProfile;if(!t)return i.a.createElement(N.a,null);var r=Object(c.useState)(!1),u=Object(M.a)(r,2),m=u[0],p=u[1];return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("img",{src:"https://png.pngtree.com/back_origin_pic/00/09/01/cbe0026ede51bf3b24b61f4d99394066.jpg",alt:"fon"})),i.a.createElement("div",{className:w.a.descrBlock},i.a.createElement("img",{src:t.photos.large||C.a,className:w.a.mainPhoto}),o&&i.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}}),m?i.a.createElement(J,{initialValues:t,profile:t,status:a,updateStatus:n,onSubmit:function(e){l(e).then((function(){p(!1)}))}}):i.a.createElement(B,{profile:t,status:a,updateStatus:n,isOwner:o,goToEditMode:function(){p(!0)}})))})),B=function(e){var t=e.profile,a=e.status,n=e.updateStatus,o=e.isOwner,s=e.goToEditMode;return i.a.createElement("div",null,o&&i.a.createElement("div",null,i.a.createElement("button",{onClick:s},"Edit")),i.a.createElement("div",null,i.a.createElement("b",null,"Full name:")," ",t.fullName),i.a.createElement("div",null,i.a.createElement("b",null,"Looking for a job:"),t.lookingForAJob?" Yes":" No"),t.lookingForAJob&&i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills: "),t.lookingForAJobDescription),i.a.createElement("div",null,i.a.createElement("b",null,"About me: "),t.aboutMe),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts: "),Object.keys(t.contacts).map((function(e){return i.a.createElement(L,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),i.a.createElement("div",null,i.a.createElement("b",null,"Status: "),i.a.createElement(A,{status:a,updateStatus:n})))},L=function(e){var t=e.contactTitle,a=e.contactValue;return i.a.createElement("div",{className:w.a.contacts},i.a.createElement("b",null,t,": "),a)},V=U,z=function(e){return i.a.createElement("div",null,i.a.createElement(V,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),i.a.createElement(y,null))},q=a(302),G=a(8),Y=a(35),H=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(o.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(z,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})))}}]),t}(i.a.Component);t.default=Object(G.d)(Object(S.b)((function(e){return{profile:Object(Y.g)(e),isAuth:Object(Y.d)(e),status:Object(Y.i)(e),authorizedUserId:Object(Y.a)(e)}}),{setUserProfile:u.f,getStatus:u.c,updateStatus:u.g,savePhoto:u.d,saveProfile:u.e}),q.a)(H)}}]);
//# sourceMappingURL=3.c3ba49ef.chunk.js.map